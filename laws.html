<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Women Safety Rules & Laws</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Bootstrap -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

<!-- Tailwind -->
<script src="https://cdn.tailwindcss.com"></script>

<!-- Icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

<style>
#progressBar {
  position: fixed;
  top: 0;
  left: 0;
  height: 5px;
  background: #ff3366;
  width: 0%;
  z-index: 1000;
}
.highlight {
  background: #fff3cd;
}
</style>
</head>

<body class="bg-pink-50">

<div id="progressBar"></div>

<!-- NAVBAR -->
<nav class="navbar navbar-expand-lg navbar-dark bg-danger px-3">
  <a class="navbar-brand fw-bold">Women Safety</a>
  <div class="ms-auto">
    <a href="index.html" class="btn btn-light btn-sm">Home</a>
    <a href="dashboard.html" class="btn btn-outline-light btn-sm">Dashboard</a>
  </div>
</nav>

<!-- HEADER -->
<header class="text-center py-4">
  <h1 class="text-4xl font-bold text-pink-600">
    <i class="fa-solid fa-shield-heart"></i> Know Your Rights
  </h1>
  <p class="text-gray-600">Awareness is your strongest protection</p>
</header>

<!-- LANGUAGE -->
<div class="container mb-3 text-center">
  <select class="form-select w-50 mx-auto" onchange="changeLanguage(this.value)">
    <option value="en">English</option>
    <option value="ta">தமிழ்</option>
    <option value="hi">Hindi</option>
  </select>
</div>

<!-- MAIN CONTENT -->
<div class="container mb-5" id="lawsContent">

<!-- READ ALOUD CONTROLS -->
<div class="card p-3 mb-3 shadow">
  <h5><i class="fa-solid fa-volume-high"></i> Accessibility Support</h5>
  <button class="btn btn-danger me-2" onclick="startReading()">Start</button>
  <button class="btn btn-warning me-2" onclick="pauseReading()">Pause</button>
  <button class="btn btn-secondary" onclick="stopReading()">Stop</button>
</div>

<!-- ACCORDION LAWS -->
<div class="accordion shadow" id="lawsAccordion">

<div class="accordion-item">
<h2 class="accordion-header">
<button class="accordion-button" data-bs-toggle="collapse" data-bs-target="#law1">
IPC 354 – Protection from Harassment
</button>
</h2>
<div id="law1" class="accordion-collapse collapse show">
<div class="accordion-body law-text">
Any physical contact or advances against a woman without consent is punishable.
</div>
</div>
</div>

<div class="accordion-item">
<h2 class="accordion-header">
<button class="accordion-button collapsed" data-bs-toggle="collapse" data-bs-target="#law2">
Domestic Violence Act
</button>
</h2>
<div id="law2" class="accordion-collapse collapse">
<div class="accordion-body law-text">
Protects women from physical, emotional, and economic abuse.
</div>
</div>
</div>

<div class="accordion-item">
<h2 class="accordion-header">
<button class="accordion-button collapsed" data-bs-toggle="collapse" data-bs-target="#law3">
Cyber Crime & Online Safety
</button>
</h2>
<div id="law3" class="accordion-collapse collapse">
<div class="accordion-body law-text">
Covers stalking, threats, and harassment through digital platforms.
</div>
</div>
</div>

</div>

<!-- QUICK EMERGENCY ACTIONS -->
<div class="card mt-4 p-3 shadow">
<h5><i class="fa-solid fa-phone"></i> Emergency Actions</h5>
<button class="btn btn-outline-danger me-2" onclick="alert('Calling 112')">Call 112</button>
<button class="btn btn-outline-warning me-2" onclick="alert('Calling Women Helpline 181')">Call 181</button>
<button class="btn btn-outline-success" onclick="alert('Location Shared')">Share Location</button>
</div>

<!-- DID YOU KNOW -->
<div class="card mt-4 p-3 shadow">
<h5><i class="fa-solid fa-lightbulb"></i> Did You Know?</h5>
<p id="tipText">Loading safety tip...</p>
<button class="btn btn-sm btn-danger" onclick="loadTip()">Refresh Tip</button>
</div>

</div>

<!-- SCRIPTS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

<script src="js/speech.js"></script>
<script src="js/language.js"></script>

<script>
/* Scroll Progress */
window.onscroll = () => {
  const scrolled = (window.scrollY / (document.body.scrollHeight - window.innerHeight)) * 100;
  document.getElementById("progressBar").style.width = scrolled + "%";
};

/* Async API */
async function loadTip() {
  const res = await fetch("https://api.adviceslip.com/advice");
  const data = await res.json();
  document.getElementById("tipText").innerText = data.slip.advice;
}
loadTip();
</script>

</body>
</html>
